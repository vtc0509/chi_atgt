<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tr√≤ ch∆°i An to√†n Giao th√¥ng</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1>üö¶ H√†nh tr√¨nh An to√†n Giao th√¥ng üö¶</h1>
        <div class="score-board">
          <div class="score-item">‚≠ê ƒêi·ªÉm: <span id="score">0</span></div>
          <div class="score-item">
            üöß Ch∆∞·ªõng ng·∫°i v·∫≠t: <span id="obstacleCount">0</span>/5
          </div>
          <div class="score-item">‚ù§Ô∏è M·∫°ng: <span id="lives">3</span></div>
        </div>
      </div>

      <div class="game-world" id="gameWorld">
        <div class="start-screen" id="startScreen">
          <h2>üéÆ Ch√†o m·ª´ng ƒë·∫øn v·ªõi H√†nh tr√¨nh An to√†n!</h2>
          <p>
            B·∫°n s·∫Ω ƒëi·ªÅu khi·ªÉn m·ªôt h·ªçc sinh tham gia giao th√¥ng tr√™n ƒë∆∞·ªùng
            ph·ªë.<br />
            G·∫∑p ch∆∞·ªõng ng·∫°i v·∫≠t, tr·∫£ l·ªùi c√¢u h·ªèi ƒë√∫ng ƒë·ªÉ v∆∞·ª£t qua v√† nh·∫≠n ph·∫ßn
            th∆∞·ªüng blind box!<br />
            M·ªói c√¢u sai s·∫Ω b·ªã tr·ª´ ƒëi·ªÉm v√† m·∫•t m·∫°ng. C·ªë g·∫Øng v∆∞·ª£t qua 5 ch∆∞·ªõng
            ng·∫°i v·∫≠t!
          </p>

          <div class="instructions">
            <h3>üìú H∆∞·ªõng d·∫´n:</h3>
            <ul>
              <li>Ch∆∞·ªõng ng·∫°i v·∫≠t s·∫Ω t·ª± di chuy·ªÉn t·ªõi g·∫ßn b·∫°n</li>
              <li>Tr·∫£ l·ªùi ƒë√∫ng: +10 ƒëi·ªÉm, nh·∫≠n blind box v√† ti·∫øp t·ª•c</li>
              <li>Tr·∫£ l·ªùi sai: -10 ƒëi·ªÉm, m·∫•t 1 m·∫°ng</li>
              <li>H·∫øt 3 m·∫°ng = Thua cu·ªôc</li>
            </ul>
          </div>
          <button class="btn-start" onclick="openCharacterSelect()">
            üöÄ B·∫Øt ƒë·∫ßu h√†nh tr√¨nh üöÄ
          </button>
        </div>

        <!-- M√¢y -->
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>

        <!-- C√¢y v√† c√¥ng tr√¨nh -->
        <img src="images/tree1.png" alt="C√¢y 1" class="background-obj tree1" />
        <img src="images/house.png" alt="Nh√†" class="background-obj tree2" />
        <img src="images/tree2.png" alt="C√¢y 2" class="background-obj tree3" />
        <img
          src="images/school.png"
          alt="Tr∆∞·ªùng h·ªçc"
          class="background-obj tree4"
        />
        <img src="images/tree1.png" alt="C√¢y 3" class="background-obj tree5" />
        <img src="images/house.png" alt="Nh√† 2" class="background-obj tree6" />
        <img src="images/tree2.png" alt="C√¢y 4" class="background-obj tree7" />
        <img
          src="images/school.png"
          alt="Tr∆∞·ªùng h·ªçc 2"
          class="background-obj tree8"
        />
        <img src="images/tree1.png" alt="C√¢y 5" class="background-obj tree9" />
        <img src="images/tree2.png" alt="C√¢y 6" class="background-obj tree10" />
        <img src="images/tree1.png" alt="C√¢y 7" class="background-obj tree11" />

        <!-- V·ªâa h√® -->
        <div class="sidewalk"></div>

        <!-- ƒê∆∞·ªùng -->
        <div class="road">
          <div class="road-line"></div>
        </div>

        <!-- Nh√¢n v·∫≠t (d√πng h√¨nh ·∫£nh) -->
        <div class="character" id="character">
          <img
            id="characterSprite"
            src="images/nhan_vat_1.png"
            alt="Nh√¢n v·∫≠t h·ªçc sinh tham gia giao th√¥ng"
            class="character-img"
          />
        </div>

        <!-- Ng∆∞·ªùi ƒëi b·ªô trang tr√≠ -->
        <div class="pedestrian ped1 large">
          <img src="images/phu2.png" alt="Ng∆∞·ªùi ƒëi b·ªô 1" />
        </div>
        <div class="pedestrian ped2 large">
          <img src="images/phu2.png" alt="Ng∆∞·ªùi ƒëi b·ªô 2" />
        </div>
        <div class="pedestrian ped3">
          <img src="images/phu3.png" alt="Ng∆∞·ªùi ƒëi b·ªô 3" />
        </div>
      </div>
    </div>

    <!-- Modal ch·ªçn nh√¢n v·∫≠t -->
    <div class="modal-overlay" id="characterSelectModal">
      <div class="modal-content">
        <h2>Ch·ªçn nh√¢n v·∫≠t c·ªßa b·∫°n</h2>
        <div class="character-select">
          <div class="character-select-list">
            <div class="character-option" data-sprite="images/nhan_vat_1.png">
              <img src="images/nhan_vat_1.png" alt="Nh√¢n v·∫≠t 1" />
            </div>
            <div class="character-option" data-sprite="images/nhan_vat_2.png">
              <img src="images/nhan_vat_2.png" alt="Nh√¢n v·∫≠t 2" />
            </div>
            <div class="character-option" data-sprite="images/nhan_vat_3.png">
              <img src="images/nhan_vat_3.png" alt="Nh√¢n v·∫≠t 3" />
            </div>
          </div>
          <button class="btn-start" onclick="confirmCharacterSelection()">
            B·∫Øt ƒë·∫ßu v·ªõi nh√¢n v·∫≠t n√†y
          </button>
        </div>
      </div>
    </div>

    <!-- Modal ch·ªçn ch·ªß ƒë·ªÅ -->
    <div class="modal-overlay" id="topicModal">
      <div class="modal-content">
        <h2>üéØ Ch·ªçn Ch·ªß ƒë·ªÅ C√¢u h·ªèi</h2>
        <div class="topic-boxes" id="topicBoxes"></div>
      </div>
    </div>

    <!-- Modal c√¢u h·ªèi -->
    <div class="modal-overlay" id="questionModal">
      <div class="question-modal">
        <div class="question-header">
          <h3 id="topicTitle"></h3>
        </div>
        <div class="question-text" id="questionText"></div>
        <div class="answers" id="answersContainer"></div>
      </div>
    </div>

    <!-- Modal ph·∫ßn th∆∞·ªüng / blind box -->
    <div class="modal-overlay" id="rewardModal">
      <div class="reward-modal">
        <h2>üéÅ Ph·∫ßn th∆∞·ªüng Blind Box</h2>
        <p class="reward-intro">
          B·∫°n ƒë√£ v∆∞·ª£t qua ch∆∞·ªõng ng·∫°i v·∫≠t! H√£y ch·ªçn m·ªôt blind box ƒë·ªÉ nh·∫≠n ph·∫ßn
          th∆∞·ªüng ng·∫´u nhi√™n cho h√†nh tr√¨nh ti·∫øp theo.
        </p>
        <div class="blind-boxes" id="blindBoxes"></div>
        <div class="reward-result" id="rewardResult"></div>
        <button
          class="btn-start btn-reward-continue"
          onclick="continueAfterReward()"
        >
          Ti·∫øp t·ª•c h√†nh tr√¨nh
        </button>
      </div>
    </div>

    <!-- Penalty display -->
    <div class="penalty-display" id="penaltyDisplay"></div>

    <script src="game.js"></script>
  </body>
</html>
